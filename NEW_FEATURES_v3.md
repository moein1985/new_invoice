# ฺฏุฒุงุฑุด ุจูุจูุฏูุง ุฌุฏุฏ - ูุณุฎู 3.0

ุชุงุฑุฎ: ณ ุขุฐุฑ ฑดฐด

## โ ูฺุฑูุง ุฌุฏุฏ ูพุงุฏูโุณุงุฒ ุดุฏู

### 1๏ธโฃ Dark Mode (ุญุงูุช ุชุงุฑฺฉ) โ

**ูุงูโูุง ุงุฌุงุฏ ุดุฏู:**
- `components/theme-provider.tsx` - Context ุจุฑุง ูุฏุฑุช theme
- `components/ui/theme-toggle.tsx` - ุฏฺฉูู ุชุบุฑ theme

**ุชุบุฑุงุช:**
- `app/globals.css` - ุงุถุงูู ุดุฏู CSS variables ุจุฑุง dark/light mode
- `app/layout.tsx` - ุงุถุงูู ุดุฏู ThemeProvider
- `app/dashboard/page.tsx` - ุงุถุงูู ุดุฏู ThemeToggle button

**ูฺฺฏโูุง:**
- ุชุบุฑ ุจู ุญุงูุช ุฑูุดู ู ุชุงุฑฺฉ
- ุฐุฎุฑู ุชูุธูุงุช ุฏุฑ localStorage
- ุชุดุฎุต ุชู ุณุณุชู (system preference)
- ุงููุดู smooth ุจุฑุง ุชุบุฑ ุฑูฺฏโูุง
- ุขฺฉููโูุง ูุงู ู ุฎูุฑุดุฏ
- ุชู ุชุงุฑฺฉ ุจุง ุฑูฺฏโุจูุฏ ููุงุณุจ

---

### 2๏ธโฃ Export ุจู Excel โ

**ูุงูโูุง ุจูุจูุฏ ุงูุชู:**
- `lib/services/excel-export.ts` - ุงุถุงูู ุดุฏู ุชูุงุจุน `exportCustomersToExcel` ู `exportDocumentsToExcel`

**ุชุบุฑุงุช:**
- `app/customers/page.tsx` - ุฏฺฉูู "ุฏุงูููุฏ Excel" ุจุง ุขฺฉูู Download
- `app/documents/page.tsx` - ุฏฺฉูู "ุฏุงูููุฏ Excel" ุจุฑุง ูุณุช ุงุณูุงุฏ

**ูฺฺฏโูุง:**
- Export ูุณุช ูุดุชุฑุงู ุจู Excel (ฺฉุฏุ ูุงูุ ุชูููุ ุงููุ ุขุฏุฑุณ)
- Export ูุณุช ุงุณูุงุฏ ุจู Excel (ุดูุงุฑูุ ููุนุ ูุดุชุฑุ ูุจูุบุ ูุถุนุช)
- ุฑูฺฏโุจูุฏ ุจุฑ ุงุณุงุณ ูุถุนุช ุชุงุฏ (ุณุจุฒ/ุฒุฑุฏ/ูุฑูุฒ)
- ุนุฑุถ ุณุชููโูุง ุจููู ุดุฏู
- ุณุชููโูุง Header ุจุง ูููุช Bold ู ุฑูฺฏ ุขุจ
- Border ุจุฑุง ุชูุงู ุณูููโูุง
- ุงุณุชูุงุฏู ุงุฒ ExcelJS ุจุฑุง ฺฉูุช ุจุงูุง

---

### 3๏ธโฃ Backup ู Restore (ูพุดุชุจุงูโฺฏุฑ) โ

**ูุงูโูุง ุฌุฏุฏ:**
- `server/api/routers/backup.ts` - API ุจุฑุง export/import database
- `app/backup/page.tsx` - ุตูุญู ูุฏุฑุช ุจฺฉุงูพ (ููุท ุงุฏูู)

**ุชุบุฑุงุช:**
- `server/api/root.ts` - ุงุถุงูู ุดุฏู backupRouter
- `app/dashboard/page.tsx` - ฺฉุงุฑุช "ุจฺฉุงูพ ู ุจุงุฒุงุจ" ุจุฑุง ุงุฏููโูุง

**ูฺฺฏโูุง:**
- **Export Database:**
  - ุฏุงูููุฏ ูุงู JSON ุดุงูู ุชูุงู ุฏุงุฏูโูุง
  - ุดุงูู: customers, documents, users, documentItems
  - ูุงู ูุงู: `backup-YYYY-MM-DD.json`
  
- **Import/Restore:**
  - ุขูพููุฏ ูุงู JSON ุจฺฉุงูพ
  - ฺฏุฒูู "ุญุฐู ุฏุงุฏูโูุง ููุฌูุฏ" (ุฎุทุฑูุงฺฉ)
  - ุชุงุฏ ุฏูุจุงุฑู ูุจู ุงุฒ ุจุงุฒุงุจ
  - ููุงุด ุชุนุฏุงุฏ ุฑฺฉูุฑุฏูุง ุจุงุฒุงุจ ุดุฏู
  
- **ุงููุช:**
  - ููุท ุงุฏููโูุง ุฏุณุชุฑุณ ุฏุงุฑูุฏ
  - ูุดุฏุงุฑูุง ูุชุนุฏุฏ ุจุฑุง ุนููุงุช ุฎุทุฑูุงฺฉ
  - UI ุจุง ุฑูฺฏโุจูุฏ ูุฑูุฒ ุจุฑุง ฺฏุฒููโูุง ูุฎุฑุจ

---

### 4๏ธโฃ Global Search (ุฌุณุชุฌู ุณุฑุงุณุฑ) โ

**ูุงูโูุง ุฌุฏุฏ:**
- `server/api/routers/search.ts` - API ุฌุณุชุฌู ุฏุฑ ุชูุงู entities
- `components/ui/global-search.tsx` - Modal ุฌุณุชุฌู ุจุง ูุชุงุฌ ุฒูุฏู

**ุชุบุฑุงุช:**
- `server/api/root.ts` - ุงุถุงูู ุดุฏู searchRouter
- `app/dashboard/page.tsx` - ุงุถุงูู ุดุฏู GlobalSearch ุฏุฑ header

**ูฺฺฏโูุง:**
- **Keyboard Shortcut:** Ctrl+K ุง Cmd+K ุจุฑุง ุจุงุฒ ฺฉุฑุฏู
- **ุฌุณุชุฌู ุฏุฑ:**
  - ูุดุชุฑุงู (ูุงูุ ฺฉุฏุ ุชูููุ ุงููุ ุขุฏุฑุณ)
  - ุงุณูุงุฏ (ุดูุงุฑู ุณูุฏุ ูุงู ูพุฑูฺูุ ุงุฏุฏุงุดุชโูุง)
  - ฺฉุงูุงูุง (ูุงู ูุญุตููุ ุชูุถุญุงุชุ ุชุงููโฺฉููุฏู)
  - ฺฉุงุฑุจุฑุงู (ูุงู ฺฉุงุฑุจุฑุ ูุงู ฺฉุงูู)
- **ููุงุด ูุชุงุฌ:**
  - ุขฺฉูู ูุฎุตูุต ูุฑ ููุน (ูุดุชุฑุ ุณูุฏุ ฺฉุงูุงุ ฺฉุงุฑุจุฑ)
  - ุนููุงู ู ุฒุฑุนููุงู ุจุฑุง ูุฑ ูุชุฌู
  - ููฺฉ ูุณุชูู ุจู ุตูุญู ุฌุฒุฆุงุช
  - ูุญุฏูุฏุช 10 ูุชุฌู ุจุฑุง ูุฑ ุฏุณุชู
- **UI/UX:**
  - Modal ุจุง ูพุณโุฒููู ุชุฑู
  - ุฌุณุชุฌู ุฒูุฏู (ุจุฏูู ูุงุฒ ุจู Enter)
  - ุจุณุชู ุจุง ESC
  - ุจุณุชู ุจุง ฺฉูฺฉ ุฎุงุฑุฌ ุงุฒ modal

---

### 5๏ธโฃ Notifications System (ุณุณุชู ุงุนูุงูโูุง) โ

**ูุงูโูุง ุฌุฏุฏ:**
- `prisma/schema.prisma` - ูุฏู Notification ุงุถุงูู ุดุฏ
- `server/api/routers/notification.ts` - API ุจุฑุง ูุฏุฑุช ููุชูฺฉุดูโูุง
- `components/ui/notification-bell.tsx` - ฺฉุงููพูููุช ุฒูฺฏ ุงุนูุงูโูุง

**Migration:**
- `migrations/20251123105622_add_notifications/migration.sql`

**ุชุบุฑุงุช:**
- `server/api/root.ts` - ุงุถุงูู ุดุฏู notificationRouter
- `app/dashboard/page.tsx` - ุงุถุงูู ุดุฏู NotificationBell ุฏุฑ header

**ูฺฺฏโูุง:**
- **ููุงุด ุงุนูุงูโูุง:**
  - ุฒูฺฏ ุจุง badge ุชุนุฏุงุฏ ุงุนูุงูโูุง ุฎูุงูุฏู ูุดุฏู
  - dropdown ุจุง ูุณุช ุงุนูุงูโูุง
  - ุขฺฉูู ูุฎุตูุต ุจุฑุง ูุฑ ููุน (ููููุชุ ุฎุทุงุ ูุดุฏุงุฑุ etc)
  - ููุงุด ุฒูุงู ูุณุจ (1 ุณุงุนุช ูพุดุ 2 ุฑูุฒ ูพุด)
  
- **ุงููุงุน ููุชูฺฉุดู:**
  - INFO - ุงุทูุงุนุงุช ุนููู
  - SUCCESS - ููููุช ุนููุงุช
  - WARNING - ูุดุฏุงุฑ
  - ERROR - ุฎุทุง
  - APPROVAL_REQUEST - ุฏุฑุฎูุงุณุช ุชุงุฏ
  - APPROVAL_APPROVED - ุชุงุฏ ุดุฏู
  - APPROVAL_REJECTED - ุฑุฏ ุดุฏู
  - DOCUMENT_CREATED - ุณูุฏ ุงุฌุงุฏ ุดุฏ
  - DOCUMENT_UPDATED - ุณูุฏ ุจุฑูุฒุฑุณุงู ุดุฏ
  - SYSTEM - ูพุงู ุณุณุชู
  
- **ูุงุจูุชโูุง:**
  - ุนูุงูุชโฺฏุฐุงุฑ ุจู ุนููุงู ุฎูุงูุฏู ุดุฏู
  - ุนูุงูุชโฺฏุฐุงุฑ ููู ุจู ุนููุงู ุฎูุงูุฏู ุดุฏู
  - ุญุฐู ุชฺฉ ุชฺฉ ููุชูฺฉุดูโูุง
  - ููฺฉ ุจู ุตูุญู ูุฑุจูุทู (ุงฺฏุฑ ููุฌูุฏ ุจุงุดุฏ)
  - ุฑูุฑุด ุฎูุฏฺฉุงุฑ ูุฑ 30 ุซุงูู
  
- **API Endpoints:**
  - `notification.list` - ูุณุช ููุชูฺฉุดูโูุง
  - `notification.unreadCount` - ุชุนุฏุงุฏ ุฎูุงูุฏู ูุดุฏู
  - `notification.markAsRead` - ุนูุงูุช ุจู ุนููุงู ุฎูุงูุฏู ุดุฏู
  - `notification.markAllAsRead` - ููู ุจู ุนููุงู ุฎูุงูุฏู ุดุฏู
  - `notification.delete` - ุญุฐู ููุชูฺฉุดู
  - `notification.create` - ุงุฌุงุฏ ููุชูฺฉุดู ุฌุฏุฏ

---

## ๐ ุขูุงุฑ ุชุบุฑุงุช

### ูุงูโูุง ุฌุฏุฏ: 7
1. `components/theme-provider.tsx`
2. `components/ui/theme-toggle.tsx`
3. `server/api/routers/backup.ts`
4. `app/backup/page.tsx`
5. `server/api/routers/search.ts`
6. `components/ui/global-search.tsx`
7. `server/api/routers/notification.ts`
8. `components/ui/notification-bell.tsx`

### ูุงูโูุง ุจูุจูุฏ ุงูุชู: 7
1. `app/globals.css` - CSS variables ุจุฑุง dark mode
2. `app/layout.tsx` - ThemeProvider
3. `app/dashboard/page.tsx` - ThemeToggle, GlobalSearch, NotificationBell, Backup card
4. `app/customers/page.tsx` - ุฏฺฉูู Export Excel
5. `app/documents/page.tsx` - ุฏฺฉูู Export Excel
6. `lib/services/excel-export.ts` - ุชูุงุจุน export ุฌุฏุฏ
7. `server/api/root.ts` - ุงุถุงูู ุดุฏู 3 router ุฌุฏุฏ
8. `prisma/schema.prisma` - Notification model

### Database Schema:
- ูุฏู ุฌุฏุฏ: `Notification`
- Enum ุฌุฏุฏ: `NotificationType`
- ุฑุงุจุทู ุฌุฏุฏ: `User.notifications`

---

## ๐ฏ ูุชุฌู

ูพุฑูฺู ุงุฒ ูุธุฑ:
- โ **ุฑุงุจุท ฺฉุงุฑุจุฑ:** Dark Mode + Theme Toggle
- โ **ฺฏุฒุงุฑุดโฺฏุฑ:** Export Excel ุจุฑุง ูุดุชุฑุงู ู ุงุณูุงุฏ
- โ **ุงููุช ุฏุงุฏู:** Backup/Restore ฺฉุงูู ุฏุชุงุจุณ
- โ **ุฌุณุชุฌู:** Global Search ุจุง Keyboard Shortcut
- โ **ุงุฑุชุจุงุทุงุช:** Notifications System ุจุฑุง ุงุทูุงุนโุฑุณุงู

---

## ๐ ุงุณุชูุงุฏู ุงุฒ ูฺุฑูุง ุฌุฏุฏ

### Dark Mode:
1. ุฑู ุขฺฉูู ูุงู/ุฎูุฑุดุฏ ุฏุฑ header ฺฉูฺฉ ฺฉูุฏ
2. ุชู ุจู ุตูุฑุช ุฎูุฏฺฉุงุฑ ุฐุฎุฑู ูโุดูุฏ

### Export Excel:
1. ุจู ุตูุญู ูุดุชุฑุงู ุง ุงุณูุงุฏ ุจุฑูุฏ
2. ุฑู ุฏฺฉูู "ุฏุงูููุฏ Excel" ฺฉูฺฉ ฺฉูุฏ
3. ูุงู Excel ุฏุงูููุฏ ูโุดูุฏ

### Backup:
1. ุจุง ุญุณุงุจ Admin ูุงุฑุฏ ุดูุฏ
2. ฺฉุงุฑุช "ุจฺฉุงูพ ู ุจุงุฒุงุจ" ุฑุง ุฏุฑ ุฏุงุดุจูุฑุฏ ฺฉูฺฉ ฺฉูุฏ
3. ุจุฑุง ุจฺฉุงูพ: "ุงุฌุงุฏ ู ุฏุงูููุฏ ุจฺฉุงูพ" ุฑุง ฺฉูฺฉ ฺฉูุฏ
4. ุจุฑุง ุจุงุฒุงุจ: ูุงู JSON ุฑุง ุงูุชุฎุงุจ ฺฉูุฏ ู "ุจุงุฒุงุจ ุงุฒ ุจฺฉุงูพ" ุฑุง ฺฉูฺฉ ฺฉูุฏ

### Global Search:
1. ฺฉูุฏ Ctrl+K (ุง Cmd+K ุฏุฑ Mac) ุฑุง ูุดุงุฑ ุฏูุฏ
2. ุง ุฑู ุฏฺฉูู "ุฌุณุชุฌู" ุฏุฑ header ฺฉูฺฉ ฺฉูุฏ
3. ุญุฏุงูู 2 ุญุฑู ุชุงูพ ฺฉูุฏ
4. ุฑู ูุชุฌู ููุฑุฏ ูุธุฑ ฺฉูฺฉ ฺฉูุฏ

### Notifications:
1. ุฒูฺฏ ุงุนูุงู ุฏุฑ header ุฑุง ฺฉูฺฉ ฺฉูุฏ
2. ูุณุช ุงุนูุงูโูุง ููุงุด ุฏุงุฏู ูโุดูุฏ
3. ุฑู ูุฑ ุงุนูุงู ฺฉูฺฉ ฺฉูุฏ ุชุง ุจู ุตูุญู ูุฑุจูุทู ุจุฑูุฏ
4. ุจุฑุง ุฎูุงูุฏู ููู: "ุฎูุงูุฏู ููู" ุฑุง ฺฉูฺฉ ฺฉูุฏ

---

## ๐ ูฺฉุงุช ููู

1. **Dark Mode** ุงุฒ localStorage ุงุณุชูุงุฏู ูโฺฉูุฏ ู ุฏุฑ refresh ุญูุธ ูโุดูุฏ
2. **Backup** ููุท ุจุฑุง ุงุฏููโูุง ูุงุจู ุฏุณุชุฑุณ ุงุณุช
3. **Global Search** ุฏุฑ ุชูุงู ุจุฎุดโูุง ุฌุณุชุฌู ูโฺฉูุฏ
4. **Notifications** ูุฑ 30 ุซุงูู ุจู ุตูุฑุช ุฎูุฏฺฉุงุฑ ุฑูุฑุด ูโุดููุฏ
5. **Export Excel** ุงุฒ ฺฉุชุงุจุฎุงูู ExcelJS ุจุง ฺฉูุช ุจุงูุง ุงุณุชูุงุฏู ูโฺฉูุฏ

---

## โ๏ธ ูุดุฏุงุฑูุง

- ูุจู ุงุฒ ุจุงุฒุงุจ ุจฺฉุงูพุ ุญุชูุง ุงุฒ ุฏุงุฏูโูุง ูุนู ุจฺฉุงูพ ุจฺฏุฑุฏ
- ฺฏุฒูู "ุญุฐู ุฏุงุฏูโูุง ููุฌูุฏ" ุฏุฑ ุจุงุฒุงุจ ุจฺฉุงูพ **ุฎุทุฑูุงฺฉ** ุงุณุช
- ูุงูโูุง ุจฺฉุงูพ ุจุงุฏ ุฏุฑ ูฺฉุงู ุงูู ูฺฏูุฏุงุฑ ุดููุฏ
- Notification model ูุงุฒ ุจู migration ุฏุงุฑุฏ (ุงูุฌุงู ุดุฏ)

---

## ๐ง Dependencies ุงุถุงูู ุดุฏู

- `xlsx` - ุจุฑุง Export Excel (ูุตุจ ุดุฏู)

---

## ๐จ UI/UX ุจูุจูุฏูุง

- ุฏฺฉููโูุง ุฌุฏุฏ ุจุง ุขฺฉููโูุง ููุงุณุจ (Download, Upload, Search, Bell)
- ุฑูฺฏโุจูุฏ ุณุจุฒ ุจุฑุง Export
- ูุดุฏุงุฑูุง ุฒุฑุฏ ู ูุฑูุฒ ุฏุฑ ุตูุญู Backup
- Modal ุฌุณุชุฌู ุจุง ุทุฑุงุญ ุชูุฒ
- Dropdown ููุชูฺฉุดู ุจุง scroll
- Badge ูุฑูุฒ ุจุฑุง ุชุนุฏุงุฏ ููุชูฺฉุดูโูุง ุฎูุงูุฏู ูุดุฏู
- ุงููุดูโูุง smooth ุจุฑุง ุชุบุฑ theme

---

**โ ููู 5 ูฺุฑ ุจุง ููููุช ูพุงุฏูโุณุงุฒ ู ุชุณุช ุดุฏูุฏ!**
